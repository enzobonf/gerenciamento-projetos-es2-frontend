<div class="col-12 header">
  <span class="titulo">Profissionais</span>

  <div [hidden]="!showButtons" class="buttons">
    <button mat-stroked-button (click)="openDialogFormProfissional()">
      <mat-icon>add</mat-icon>
      <span>Adicionar novo profissional</span>
    </button>
  </div>
</div>

<div class="col-12">
  <div class="row">
    <table class="col-12" mat-table [dataSource]="profissionais">
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let profissional">
          {{ profissional.nome }} {{ profissional.sobrenome }}
        </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let profissional">
          {{ profissional.email }}
        </td>
      </ng-container>

      <ng-container matColumnDef="especialidade">
        <th mat-header-cell *matHeaderCellDef>Especialidade</th>
        <td mat-cell *matCellDef="let profissional">
          {{ profissional.especialidade.nome }}
        </td>
      </ng-container>

      <ng-container matColumnDef="telefone">
        <th mat-header-cell *matHeaderCellDef>Telefone</th>
        <td mat-cell *matCellDef="let profissional">
          +{{ profissional.ddi_telefone }}
          {{ profissional.num_telefone | mask : '(00) 00000-0000' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="endereco">
        <th style="width: 20vw" mat-header-cell *matHeaderCellDef>Endere√ßo</th>
        <td style="width: 20vw" mat-cell *matCellDef="let profissional">
          {{ profissional.endereco.tipo_logradouro }}
          {{ profissional.endereco.logradouro }},
          {{ profissional.numero_endereco }},
          <span *ngIf="profissional.complemento_endereco"
            >{{ profissional.complemento_endereco }},</span
          >
          {{ profissional.endereco.bairro }} <br />
          {{ profissional.endereco.cidade }} -
          {{ profissional.endereco.sigla_uf }},
          {{ profissional.endereco.cep | mask : '00000-000' }}
        </td>
      </ng-container>

      <div [hidden]="!showButtons">
        <ng-container matColumnDef="editar">
          <th
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-cell
            *matCellDef="let profissional">
            <button
              mat-button
              (click)="openDialogFormProfissional(profissional)"
              style="color: #303f9f">
              Editar
            </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="excluir">
          <th
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-cell
            *matCellDef="let profissional">
            <button
              mat-button
              (click)="clickExcluir(profissional)"
              style="color: red">
              Excluir
            </button>
          </td>
        </ng-container>
      </div>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
