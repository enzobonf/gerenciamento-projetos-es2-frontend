<div class="col-12 header">
  <span class="titulo">Times</span>

  <div [hidden]="!showButtons" class="buttons">
    <button mat-stroked-button (click)="openDialogFormTime()">
      <mat-icon>add</mat-icon>
      <span>Adicionar novo time</span>
    </button>
  </div>
</div>

<div class="col-12">
  <div class="row">
    <table class="col-12" mat-table [dataSource]="times">
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef style="width: 50w">Nome</th>
        <td mat-cell *matCellDef="let time" style="width: 50w">
          {{ time.nome }}
        </td>
      </ng-container>

      <!-- <ng-container matColumnDef="sigla">
        <th mat-header-cell *matHeaderCellDef>Sigla</th>
        <td mat-cell *matCellDef="let time">
          {{ time.sigla }}
        </td>
      </ng-container>

      <ng-container matColumnDef="versao_atual">
        <th mat-header-cell *matHeaderCellDef>Versão Atual - Analista</th>
        <td mat-cell *matCellDef="let time">
          {{ time.versao_atual_str }}
        </td>
      </ng-container> -->

      <div [hidden]="!showButtons">
        <!-- <ng-container matColumnDef="editarStatus">
          <th
            [hidden]="!showButtons"
            style="width: 16vw"
            mat-header-cell
            *matHeaderCellDef>
            Status da versão
          </th>
          <td
            [hidden]="!showButtons"
            style="width: 16vw"
            mat-cell
            *matCellDef="let time">
            <mat-select
              *ngIf="time.versao_atual"
              [(ngModel)]="time.versao_atual.status_versao.id"
              (selectionChange)="onChangeStatus($event, time)"
              placeholder="Status">
              <mat-option *ngFor="let item of all_status" [value]="item.id">
                {{ item.nome }}
              </mat-option>
            </mat-select>
            <span [hidden]="time.versao_atual !== null">--</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="verVersoes">
          <th
            [hidden]="!showButtons"
            style="width: 11vw"
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            [hidden]="!showButtons"
            style="width: 11vw"
            mat-cell
            *matCellDef="let time">
            <button
              mat-button
              style="color: #003366"
              (click)="clickVerVersoes(time)">
              <mat-icon style="font-size: 1.5rem">add</mat-icon>
              Ver versões
            </button>
          </td>
        </ng-container> -->

        <ng-container matColumnDef="verProfissionais">
          <th
            [hidden]="!showButtons"
            style="width: 25vw"
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            [hidden]="!showButtons"
            style="width: 25vw"
            mat-cell
            *matCellDef="let time">
            <button
              mat-button
              style="color: #303f9f"
              (click)="clickVerProfissionais(time)">
              <mat-icon style="font-size: 1.5rem">add</mat-icon>
              Ver profissionais associados
            </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="editar">
          <th
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-cell
            *matCellDef="let time">
            <button
              mat-button
              (click)="openDialogFormTime(time)"
              style="color: #303f9f">
              Editar
            </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="excluir">
          <th
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-header-cell
            *matHeaderCellDef></th>
          <td
            [hidden]="!showButtons"
            style="width: 5vw"
            mat-cell
            *matCellDef="let time">
            <button mat-button (click)="clickExcluir(time)" style="color: red">
              Excluir
            </button>
          </td>
        </ng-container>
      </div>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
